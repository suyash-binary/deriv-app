(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["account-signup-modal"],{

/***/ "./App/Containers/AccountSignupModal/account-signup-modal.jsx":
/*!********************************************************************!*\
  !*** ./App/Containers/AccountSignupModal/account-signup-modal.jsx ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ \"../../../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! formik */ \"../../../node_modules/formik/dist/formik.esm.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"../../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"../../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _deriv_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @deriv/components */ \"../../components/src/index.js\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\n/* harmony import */ var Stores_connect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! Stores/connect */ \"./Stores/connect.js\");\n/* harmony import */ var _SetResidenceModal_set_residence_form_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../SetResidenceModal/set-residence-form.jsx */ \"./App/Containers/SetResidenceModal/set-residence-form.jsx\");\n/* harmony import */ var Sass_app_modules_account_signup_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! Sass/app/modules/account-signup.scss */ \"./sass/app/modules/account-signup.scss\");\n/* harmony import */ var Sass_app_modules_account_signup_scss__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(Sass_app_modules_account_signup_scss__WEBPACK_IMPORTED_MODULE_9__);\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\n\n\nvar signupInitialValues = {\n  password: '',\n  residence: ''\n};\n\nvar validateSignup = function validateSignup(values, residence_list) {\n  var errors = {};\n\n  if (!Object(_deriv_shared__WEBPACK_IMPORTED_MODULE_5__[\"validLength\"])(values.password, {\n    min: 8,\n    max: 25\n  })) {\n    errors.password = Object(_deriv_translations__WEBPACK_IMPORTED_MODULE_6__[\"localize\"])('You should enter {{min_number}}-{{max_number}} characters.', {\n      min_number: 8,\n      max_number: 25\n    });\n  } else if (!Object(_deriv_shared__WEBPACK_IMPORTED_MODULE_5__[\"validPassword\"])(values.password)) {\n    errors.password = Object(_deriv_shared__WEBPACK_IMPORTED_MODULE_5__[\"getErrorMessages\"])().password();\n  }\n\n  if (!values.residence) {\n    errors.residence = true;\n  } else {\n    var index_of_selection = residence_list.findIndex(function (item) {\n      return item.text.toLowerCase() === values.residence.toLowerCase();\n    });\n\n    if (index_of_selection === -1 || residence_list[index_of_selection].disabled === 'DISABLED') {\n      errors.residence = Object(_deriv_translations__WEBPACK_IMPORTED_MODULE_6__[\"localize\"])('Unfortunately, {{website_name}} is not available in your country.', {\n        website_name: _deriv_shared__WEBPACK_IMPORTED_MODULE_5__[\"website_name\"]\n      });\n    }\n  }\n\n  return errors;\n};\n\nvar AccountSignup = function AccountSignup(_ref) {\n  var enableApp = _ref.enableApp,\n      isModalVisible = _ref.isModalVisible,\n      is_account_signup_modal_visible = _ref.is_account_signup_modal_visible,\n      onSignup = _ref.onSignup,\n      residence_list = _ref.residence_list;\n  var context_type = react__WEBPACK_IMPORTED_MODULE_3__[\"useContext\"](_deriv_shared__WEBPACK_IMPORTED_MODULE_5__[\"PlatformContext\"]);\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"](''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      pw_input = _React$useState2[0],\n      setPWInput = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"](false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      has_valid_residence = _React$useState4[0],\n      setHasValidResidence = _React$useState4[1];\n\n  var updatePassword = function updatePassword(new_password) {\n    setPWInput(new_password);\n  };\n\n  var onResidenceSelection = function onResidenceSelection() {\n    setHasValidResidence(true);\n  };\n\n  var onSignupComplete = function onSignupComplete(error) {\n    // Handle lower level modal controls due to overriding modal rendering\n    isModalVisible(false);\n    enableApp(); // Error would be returned on invalid token (and the like) cases.\n    // TODO: Proper error handling (currently we have no place to put the message)\n\n    if (error) {\n      throw Error(error);\n    }\n  };\n\n  var validateSignupPassthrough = function validateSignupPassthrough(values) {\n    return validateSignup(values, residence_list);\n  };\n\n  var onSignupPassthrough = function onSignupPassthrough(values) {\n    var index_of_selection = residence_list.findIndex(function (item) {\n      return item.text.toLowerCase() === values.residence.toLowerCase();\n    });\n\n    var modded_values = _objectSpread(_objectSpread({}, values), {}, {\n      residence: residence_list[index_of_selection].value,\n      is_deriv_crypto: context_type.is_deriv_crypto,\n      is_account_signup_modal_visible: is_account_signup_modal_visible\n    });\n\n    onSignup(modded_values, onSignupComplete);\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](\"div\", {\n    className: \"account-signup\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](formik__WEBPACK_IMPORTED_MODULE_1__[\"Formik\"], {\n    initialValues: signupInitialValues,\n    validate: validateSignupPassthrough,\n    onSubmit: onSignupPassthrough\n  }, function (_ref2) {\n    var isSubmitting = _ref2.isSubmitting,\n        handleBlur = _ref2.handleBlur,\n        errors = _ref2.errors,\n        handleChange = _ref2.handleChange,\n        values = _ref2.values,\n        setFieldValue = _ref2.setFieldValue,\n        setFieldTouched = _ref2.setFieldTouched,\n        touched = _ref2.touched;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](formik__WEBPACK_IMPORTED_MODULE_1__[\"Form\"], null, !has_valid_residence ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](_SetResidenceModal_set_residence_form_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      header_text: Object(_deriv_translations__WEBPACK_IMPORTED_MODULE_6__[\"localize\"])('Thanks for verifying your email'),\n      class_prefix: \"account-signup\",\n      errors: errors,\n      touched: touched,\n      setFieldTouched: setFieldTouched,\n      setFieldValue: setFieldValue,\n      residence_list: residence_list\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](_deriv_components__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()('account-signup__btn', {\n        'account-signup__btn--disabled': !values.residence || errors.residence\n      }),\n      type: \"button\",\n      is_disabled: !values.residence || !!errors.residence,\n      onClick: onResidenceSelection,\n      primary: true,\n      text: Object(_deriv_translations__WEBPACK_IMPORTED_MODULE_6__[\"localize\"])('Next')\n    })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](\"div\", {\n      className: \"account-signup__password-selection\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](_deriv_components__WEBPACK_IMPORTED_MODULE_4__[\"Text\"], {\n      as: \"p\",\n      weight: \"bold\",\n      className: \"account-signup__heading\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](_deriv_translations__WEBPACK_IMPORTED_MODULE_6__[\"Localize\"], {\n      i18n_default_text: \"Keep your account secure with a password\"\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](formik__WEBPACK_IMPORTED_MODULE_1__[\"Field\"], {\n      name: \"password\"\n    }, function (_ref3) {\n      var field = _ref3.field;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](_deriv_components__WEBPACK_IMPORTED_MODULE_4__[\"PasswordMeter\"], {\n        input: pw_input,\n        has_error: !!(touched.password && errors.password),\n        custom_feedback_messages: Object(_deriv_shared__WEBPACK_IMPORTED_MODULE_5__[\"getErrorMessages\"])().password_warnings\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](_deriv_components__WEBPACK_IMPORTED_MODULE_4__[\"PasswordInput\"], _extends({}, field, {\n        className: \"account-signup__password-field\",\n        label: Object(_deriv_translations__WEBPACK_IMPORTED_MODULE_6__[\"localize\"])('Create a password'),\n        error: touched.password && errors.password,\n        required: true,\n        value: values.password,\n        onBlur: handleBlur,\n        onChange: function onChange(e) {\n          var input = e.target;\n          setFieldTouched('password', true);\n          if (input) updatePassword(input.value);\n          handleChange(e);\n        }\n      })));\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](_deriv_components__WEBPACK_IMPORTED_MODULE_4__[\"Text\"], {\n      as: \"p\",\n      size: \"xxs\",\n      className: \"account-signup__subtext\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](_deriv_translations__WEBPACK_IMPORTED_MODULE_6__[\"Localize\"], {\n      i18n_default_text: \"Strong passwords contain at least 8 characters, combine uppercase and lowercase letters, numbers, and symbols.\"\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](_deriv_components__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()('account-signup__btn', {\n        'account-signup__btn--disabled': !values.password || errors.password || isSubmitting\n      }),\n      type: \"submit\",\n      is_disabled: !values.password || !!errors.password || isSubmitting,\n      text: Object(_deriv_translations__WEBPACK_IMPORTED_MODULE_6__[\"localize\"])('Start trading'),\n      primary: true\n    })));\n  }));\n};\n\nAccountSignup.propTypes = {\n  enableApp: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,\n  onSignup: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,\n  residence_list: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array,\n  isModalVisible: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,\n  is_account_signup_modal_visible: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool\n};\n\nvar AccountSignupModal = function AccountSignupModal(_ref4) {\n  var enableApp = _ref4.enableApp,\n      disableApp = _ref4.disableApp,\n      is_loading = _ref4.is_loading,\n      is_visible = _ref4.is_visible,\n      is_logged_in = _ref4.is_logged_in,\n      logout = _ref4.logout,\n      onSignup = _ref4.onSignup,\n      residence_list = _ref4.residence_list,\n      toggleAccountSignupModal = _ref4.toggleAccountSignupModal;\n  react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"](function () {\n    // a logged in user should not be able to create a new account\n    if (is_visible && is_logged_in) {\n      logout();\n    }\n  }, [is_visible, is_logged_in, logout]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](_deriv_components__WEBPACK_IMPORTED_MODULE_4__[\"Dialog\"], {\n    is_visible: is_visible,\n    disableApp: disableApp,\n    enableApp: enableApp,\n    is_loading: is_loading || !residence_list.length,\n    is_mobile_full_width: false,\n    is_content_centered: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"](AccountSignup, {\n    onSignup: onSignup,\n    residence_list: residence_list,\n    isModalVisible: toggleAccountSignupModal,\n    enableApp: enableApp,\n    is_account_signup_modal_visible: is_visible\n  }));\n};\n\nAccountSignupModal.propTypes = {\n  disableApp: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,\n  enableApp: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,\n  is_loading: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  is_visible: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  onSignup: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,\n  residence_list: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object)\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(Stores_connect__WEBPACK_IMPORTED_MODULE_7__[\"connect\"])(function (_ref5) {\n  var ui = _ref5.ui,\n      client = _ref5.client;\n  return {\n    is_visible: ui.is_account_signup_modal_visible,\n    toggleAccountSignupModal: ui.toggleAccountSignupModal,\n    enableApp: ui.enableApp,\n    disableApp: ui.disableApp,\n    is_loading: ui.is_loading,\n    onSignup: client.onSignup,\n    is_logged_in: client.is_logged_in,\n    residence_list: client.residence_list,\n    logout: client.logout\n  };\n})(AccountSignupModal));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9BcHAvQ29udGFpbmVycy9BY2NvdW50U2lnbnVwTW9kYWwvYWNjb3VudC1zaWdudXAtbW9kYWwuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vQXBwL0NvbnRhaW5lcnMvQWNjb3VudFNpZ251cE1vZGFsL2FjY291bnQtc2lnbnVwLW1vZGFsLmpzeD8xNmE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgRmllbGQsIEZvcm1paywgRm9ybSB9IGZyb20gJ2Zvcm1payc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJ1dHRvbiwgRGlhbG9nLCBQYXNzd29yZElucHV0LCBQYXNzd29yZE1ldGVyLCBUZXh0IH0gZnJvbSAnQGRlcml2L2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgdmFsaWRQYXNzd29yZCwgdmFsaWRMZW5ndGgsIHdlYnNpdGVfbmFtZSwgZ2V0RXJyb3JNZXNzYWdlcywgUGxhdGZvcm1Db250ZXh0IH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgeyBsb2NhbGl6ZSwgTG9jYWxpemUgfSBmcm9tICdAZGVyaXYvdHJhbnNsYXRpb25zJztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdTdG9yZXMvY29ubmVjdCc7XG5pbXBvcnQgUmVzaWRlbmNlRm9ybSBmcm9tICcuLi9TZXRSZXNpZGVuY2VNb2RhbC9zZXQtcmVzaWRlbmNlLWZvcm0uanN4JztcbmltcG9ydCAnU2Fzcy9hcHAvbW9kdWxlcy9hY2NvdW50LXNpZ251cC5zY3NzJztcblxuY29uc3Qgc2lnbnVwSW5pdGlhbFZhbHVlcyA9IHsgcGFzc3dvcmQ6ICcnLCByZXNpZGVuY2U6ICcnIH07XG5cbmNvbnN0IHZhbGlkYXRlU2lnbnVwID0gKHZhbHVlcywgcmVzaWRlbmNlX2xpc3QpID0+IHtcbiAgICBjb25zdCBlcnJvcnMgPSB7fTtcblxuICAgIGlmIChcbiAgICAgICAgIXZhbGlkTGVuZ3RoKHZhbHVlcy5wYXNzd29yZCwge1xuICAgICAgICAgICAgbWluOiA4LFxuICAgICAgICAgICAgbWF4OiAyNSxcbiAgICAgICAgfSlcbiAgICApIHtcbiAgICAgICAgZXJyb3JzLnBhc3N3b3JkID0gbG9jYWxpemUoJ1lvdSBzaG91bGQgZW50ZXIge3ttaW5fbnVtYmVyfX0te3ttYXhfbnVtYmVyfX0gY2hhcmFjdGVycy4nLCB7XG4gICAgICAgICAgICBtaW5fbnVtYmVyOiA4LFxuICAgICAgICAgICAgbWF4X251bWJlcjogMjUsXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIXZhbGlkUGFzc3dvcmQodmFsdWVzLnBhc3N3b3JkKSkge1xuICAgICAgICBlcnJvcnMucGFzc3dvcmQgPSBnZXRFcnJvck1lc3NhZ2VzKCkucGFzc3dvcmQoKTtcbiAgICB9XG5cbiAgICBpZiAoIXZhbHVlcy5yZXNpZGVuY2UpIHtcbiAgICAgICAgZXJyb3JzLnJlc2lkZW5jZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaW5kZXhfb2Zfc2VsZWN0aW9uID0gcmVzaWRlbmNlX2xpc3QuZmluZEluZGV4KFxuICAgICAgICAgICAgaXRlbSA9PiBpdGVtLnRleHQudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWVzLnJlc2lkZW5jZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGluZGV4X29mX3NlbGVjdGlvbiA9PT0gLTEgfHwgcmVzaWRlbmNlX2xpc3RbaW5kZXhfb2Zfc2VsZWN0aW9uXS5kaXNhYmxlZCA9PT0gJ0RJU0FCTEVEJykge1xuICAgICAgICAgICAgZXJyb3JzLnJlc2lkZW5jZSA9IGxvY2FsaXplKCdVbmZvcnR1bmF0ZWx5LCB7e3dlYnNpdGVfbmFtZX19IGlzIG5vdCBhdmFpbGFibGUgaW4geW91ciBjb3VudHJ5LicsIHtcbiAgICAgICAgICAgICAgICB3ZWJzaXRlX25hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlcnJvcnM7XG59O1xuXG5jb25zdCBBY2NvdW50U2lnbnVwID0gKHsgZW5hYmxlQXBwLCBpc01vZGFsVmlzaWJsZSwgaXNfYWNjb3VudF9zaWdudXBfbW9kYWxfdmlzaWJsZSwgb25TaWdudXAsIHJlc2lkZW5jZV9saXN0IH0pID0+IHtcbiAgICBjb25zdCBjb250ZXh0X3R5cGUgPSBSZWFjdC51c2VDb250ZXh0KFBsYXRmb3JtQ29udGV4dCk7XG5cbiAgICBjb25zdCBbcHdfaW5wdXQsIHNldFBXSW5wdXRdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtoYXNfdmFsaWRfcmVzaWRlbmNlLCBzZXRIYXNWYWxpZFJlc2lkZW5jZV0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG5cbiAgICBjb25zdCB1cGRhdGVQYXNzd29yZCA9IG5ld19wYXNzd29yZCA9PiB7XG4gICAgICAgIHNldFBXSW5wdXQobmV3X3Bhc3N3b3JkKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb25SZXNpZGVuY2VTZWxlY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgIHNldEhhc1ZhbGlkUmVzaWRlbmNlKHRydWUpO1xuICAgIH07XG5cbiAgICBjb25zdCBvblNpZ251cENvbXBsZXRlID0gZXJyb3IgPT4ge1xuICAgICAgICAvLyBIYW5kbGUgbG93ZXIgbGV2ZWwgbW9kYWwgY29udHJvbHMgZHVlIHRvIG92ZXJyaWRpbmcgbW9kYWwgcmVuZGVyaW5nXG4gICAgICAgIGlzTW9kYWxWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgZW5hYmxlQXBwKCk7XG5cbiAgICAgICAgLy8gRXJyb3Igd291bGQgYmUgcmV0dXJuZWQgb24gaW52YWxpZCB0b2tlbiAoYW5kIHRoZSBsaWtlKSBjYXNlcy5cbiAgICAgICAgLy8gVE9ETzogUHJvcGVyIGVycm9yIGhhbmRsaW5nIChjdXJyZW50bHkgd2UgaGF2ZSBubyBwbGFjZSB0byBwdXQgdGhlIG1lc3NhZ2UpXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHZhbGlkYXRlU2lnbnVwUGFzc3Rocm91Z2ggPSB2YWx1ZXMgPT4gdmFsaWRhdGVTaWdudXAodmFsdWVzLCByZXNpZGVuY2VfbGlzdCk7XG4gICAgY29uc3Qgb25TaWdudXBQYXNzdGhyb3VnaCA9IHZhbHVlcyA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4X29mX3NlbGVjdGlvbiA9IHJlc2lkZW5jZV9saXN0LmZpbmRJbmRleChcbiAgICAgICAgICAgIGl0ZW0gPT4gaXRlbS50ZXh0LnRvTG93ZXJDYXNlKCkgPT09IHZhbHVlcy5yZXNpZGVuY2UudG9Mb3dlckNhc2UoKVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IG1vZGRlZF92YWx1ZXMgPSB7XG4gICAgICAgICAgICAuLi52YWx1ZXMsXG4gICAgICAgICAgICByZXNpZGVuY2U6IHJlc2lkZW5jZV9saXN0W2luZGV4X29mX3NlbGVjdGlvbl0udmFsdWUsXG4gICAgICAgICAgICBpc19kZXJpdl9jcnlwdG86IGNvbnRleHRfdHlwZS5pc19kZXJpdl9jcnlwdG8sXG4gICAgICAgICAgICBpc19hY2NvdW50X3NpZ251cF9tb2RhbF92aXNpYmxlLFxuICAgICAgICB9O1xuICAgICAgICBvblNpZ251cChtb2RkZWRfdmFsdWVzLCBvblNpZ251cENvbXBsZXRlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FjY291bnQtc2lnbnVwJz5cbiAgICAgICAgICAgIDxGb3JtaWtcbiAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWVzPXtzaWdudXBJbml0aWFsVmFsdWVzfVxuICAgICAgICAgICAgICAgIHZhbGlkYXRlPXt2YWxpZGF0ZVNpZ251cFBhc3N0aHJvdWdofVxuICAgICAgICAgICAgICAgIG9uU3VibWl0PXtvblNpZ251cFBhc3N0aHJvdWdofVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHsoe1xuICAgICAgICAgICAgICAgICAgICBpc1N1Ym1pdHRpbmcsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUJsdXIsXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycyxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNldEZpZWxkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHNldEZpZWxkVG91Y2hlZCxcbiAgICAgICAgICAgICAgICAgICAgdG91Y2hlZCxcbiAgICAgICAgICAgICAgICB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxGb3JtPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyFoYXNfdmFsaWRfcmVzaWRlbmNlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSZXNpZGVuY2VGb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcl90ZXh0PXtsb2NhbGl6ZSgnVGhhbmtzIGZvciB2ZXJpZnlpbmcgeW91ciBlbWFpbCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc19wcmVmaXg9J2FjY291bnQtc2lnbnVwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnM9e2Vycm9yc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hlZD17dG91Y2hlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RmllbGRUb3VjaGVkPXtzZXRGaWVsZFRvdWNoZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEZpZWxkVmFsdWU9e3NldEZpZWxkVmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2lkZW5jZV9saXN0PXtyZXNpZGVuY2VfbGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnYWNjb3VudC1zaWdudXBfX2J0bicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjb3VudC1zaWdudXBfX2J0bi0tZGlzYWJsZWQnOiAhdmFsdWVzLnJlc2lkZW5jZSB8fCBlcnJvcnMucmVzaWRlbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19kaXNhYmxlZD17IXZhbHVlcy5yZXNpZGVuY2UgfHwgISFlcnJvcnMucmVzaWRlbmNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25SZXNpZGVuY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0PXtsb2NhbGl6ZSgnTmV4dCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUmVzaWRlbmNlRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FjY291bnQtc2lnbnVwX19wYXNzd29yZC1zZWxlY3Rpb24nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCBhcz0ncCcgd2VpZ2h0PSdib2xkJyBjbGFzc05hbWU9J2FjY291bnQtc2lnbnVwX19oZWFkaW5nJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMb2NhbGl6ZSBpMThuX2RlZmF1bHRfdGV4dD0nS2VlcCB5b3VyIGFjY291bnQgc2VjdXJlIHdpdGggYSBwYXNzd29yZCcgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmllbGQgbmFtZT0ncGFzc3dvcmQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGFzc3dvcmRNZXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dD17cHdfaW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc19lcnJvcj17ISEodG91Y2hlZC5wYXNzd29yZCAmJiBlcnJvcnMucGFzc3dvcmQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21fZmVlZGJhY2tfbWVzc2FnZXM9e2dldEVycm9yTWVzc2FnZXMoKS5wYXNzd29yZF93YXJuaW5nc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXNzd29yZElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4uZmllbGR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2FjY291bnQtc2lnbnVwX19wYXNzd29yZC1maWVsZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtsb2NhbGl6ZSgnQ3JlYXRlIGEgcGFzc3dvcmQnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yPXt0b3VjaGVkLnBhc3N3b3JkICYmIGVycm9ycy5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWVzLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CbHVyPXtoYW5kbGVCbHVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RmllbGRUb3VjaGVkKCdwYXNzd29yZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCkgdXBkYXRlUGFzc3dvcmQoaW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNoYW5nZShlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9QYXNzd29yZE1ldGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9GaWVsZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgYXM9J3AnIHNpemU9J3h4cycgY2xhc3NOYW1lPSdhY2NvdW50LXNpZ251cF9fc3VidGV4dCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9jYWxpemUgaTE4bl9kZWZhdWx0X3RleHQ9J1N0cm9uZyBwYXNzd29yZHMgY29udGFpbiBhdCBsZWFzdCA4IGNoYXJhY3RlcnMsIGNvbWJpbmUgdXBwZXJjYXNlIGFuZCBsb3dlcmNhc2UgbGV0dGVycywgbnVtYmVycywgYW5kIHN5bWJvbHMuJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RleHQ+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdhY2NvdW50LXNpZ251cF9fYnRuJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NvdW50LXNpZ251cF9fYnRuLS1kaXNhYmxlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF2YWx1ZXMucGFzc3dvcmQgfHwgZXJyb3JzLnBhc3N3b3JkIHx8IGlzU3VibWl0dGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0nc3VibWl0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfZGlzYWJsZWQ9eyF2YWx1ZXMucGFzc3dvcmQgfHwgISFlcnJvcnMucGFzc3dvcmQgfHwgaXNTdWJtaXR0aW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dD17bG9jYWxpemUoJ1N0YXJ0IHRyYWRpbmcnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9Gb3JtaWs+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5BY2NvdW50U2lnbnVwLnByb3BUeXBlcyA9IHtcbiAgICBlbmFibGVBcHA6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uU2lnbnVwOiBQcm9wVHlwZXMuZnVuYyxcbiAgICByZXNpZGVuY2VfbGlzdDogUHJvcFR5cGVzLmFycmF5LFxuICAgIGlzTW9kYWxWaXNpYmxlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBpc19hY2NvdW50X3NpZ251cF9tb2RhbF92aXNpYmxlOiBQcm9wVHlwZXMuYm9vbCxcbn07XG5cbmNvbnN0IEFjY291bnRTaWdudXBNb2RhbCA9ICh7XG4gICAgZW5hYmxlQXBwLFxuICAgIGRpc2FibGVBcHAsXG4gICAgaXNfbG9hZGluZyxcbiAgICBpc192aXNpYmxlLFxuICAgIGlzX2xvZ2dlZF9pbixcbiAgICBsb2dvdXQsXG4gICAgb25TaWdudXAsXG4gICAgcmVzaWRlbmNlX2xpc3QsXG4gICAgdG9nZ2xlQWNjb3VudFNpZ251cE1vZGFsLFxufSkgPT4ge1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIC8vIGEgbG9nZ2VkIGluIHVzZXIgc2hvdWxkIG5vdCBiZSBhYmxlIHRvIGNyZWF0ZSBhIG5ldyBhY2NvdW50XG4gICAgICAgIGlmIChpc192aXNpYmxlICYmIGlzX2xvZ2dlZF9pbikge1xuICAgICAgICAgICAgbG9nb3V0KCk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNfdmlzaWJsZSwgaXNfbG9nZ2VkX2luLCBsb2dvdXRdKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxEaWFsb2dcbiAgICAgICAgICAgIGlzX3Zpc2libGU9e2lzX3Zpc2libGV9XG4gICAgICAgICAgICBkaXNhYmxlQXBwPXtkaXNhYmxlQXBwfVxuICAgICAgICAgICAgZW5hYmxlQXBwPXtlbmFibGVBcHB9XG4gICAgICAgICAgICBpc19sb2FkaW5nPXtpc19sb2FkaW5nIHx8ICFyZXNpZGVuY2VfbGlzdC5sZW5ndGh9XG4gICAgICAgICAgICBpc19tb2JpbGVfZnVsbF93aWR0aD17ZmFsc2V9XG4gICAgICAgICAgICBpc19jb250ZW50X2NlbnRlcmVkXG4gICAgICAgID5cbiAgICAgICAgICAgIDxBY2NvdW50U2lnbnVwXG4gICAgICAgICAgICAgICAgb25TaWdudXA9e29uU2lnbnVwfVxuICAgICAgICAgICAgICAgIHJlc2lkZW5jZV9saXN0PXtyZXNpZGVuY2VfbGlzdH1cbiAgICAgICAgICAgICAgICBpc01vZGFsVmlzaWJsZT17dG9nZ2xlQWNjb3VudFNpZ251cE1vZGFsfVxuICAgICAgICAgICAgICAgIGVuYWJsZUFwcD17ZW5hYmxlQXBwfVxuICAgICAgICAgICAgICAgIGlzX2FjY291bnRfc2lnbnVwX21vZGFsX3Zpc2libGU9e2lzX3Zpc2libGV9XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L0RpYWxvZz5cbiAgICApO1xufTtcblxuQWNjb3VudFNpZ251cE1vZGFsLnByb3BUeXBlcyA9IHtcbiAgICBkaXNhYmxlQXBwOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBlbmFibGVBcHA6IFByb3BUeXBlcy5mdW5jLFxuICAgIGlzX2xvYWRpbmc6IFByb3BUeXBlcy5ib29sLFxuICAgIGlzX3Zpc2libGU6IFByb3BUeXBlcy5ib29sLFxuICAgIG9uU2lnbnVwOiBQcm9wVHlwZXMuZnVuYyxcbiAgICByZXNpZGVuY2VfbGlzdDogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCksXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KCh7IHVpLCBjbGllbnQgfSkgPT4gKHtcbiAgICBpc192aXNpYmxlOiB1aS5pc19hY2NvdW50X3NpZ251cF9tb2RhbF92aXNpYmxlLFxuICAgIHRvZ2dsZUFjY291bnRTaWdudXBNb2RhbDogdWkudG9nZ2xlQWNjb3VudFNpZ251cE1vZGFsLFxuICAgIGVuYWJsZUFwcDogdWkuZW5hYmxlQXBwLFxuICAgIGRpc2FibGVBcHA6IHVpLmRpc2FibGVBcHAsXG4gICAgaXNfbG9hZGluZzogdWkuaXNfbG9hZGluZyxcbiAgICBvblNpZ251cDogY2xpZW50Lm9uU2lnbnVwLFxuICAgIGlzX2xvZ2dlZF9pbjogY2xpZW50LmlzX2xvZ2dlZF9pbixcbiAgICByZXNpZGVuY2VfbGlzdDogY2xpZW50LnJlc2lkZW5jZV9saXN0LFxuICAgIGxvZ291dDogY2xpZW50LmxvZ291dCxcbn0pKShBY2NvdW50U2lnbnVwTW9kYWwpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVVBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVlBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFOQTtBQXdCQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBbEVBO0FBbUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFTQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./App/Containers/AccountSignupModal/account-signup-modal.jsx\n");

/***/ }),

/***/ "./App/Containers/AccountSignupModal/index.js":
/*!****************************************************!*\
  !*** ./App/Containers/AccountSignupModal/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _account_signup_modal_jsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./account-signup-modal.jsx */ \"./App/Containers/AccountSignupModal/account-signup-modal.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _account_signup_modal_jsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9BcHAvQ29udGFpbmVycy9BY2NvdW50U2lnbnVwTW9kYWwvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9BcHAvQ29udGFpbmVycy9BY2NvdW50U2lnbnVwTW9kYWwvaW5kZXguanM/NTNiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmcm9tICcuL2FjY291bnQtc2lnbnVwLW1vZGFsLmpzeCc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./App/Containers/AccountSignupModal/index.js\n");

/***/ }),

/***/ "./App/Containers/SetResidenceModal/set-residence-form.jsx":
/*!*****************************************************************!*\
  !*** ./App/Containers/SetResidenceModal/set-residence-form.jsx ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! formik */ \"../../../node_modules/formik/dist/formik.esm.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"../../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"../../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _deriv_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @deriv/components */ \"../../components/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\nvar SetResidenceForm = function SetResidenceForm(_ref) {\n  var _ref$class_prefix = _ref.class_prefix,\n      class_prefix = _ref$class_prefix === void 0 ? 'set-residence' : _ref$class_prefix,\n      children = _ref.children,\n      header_text = _ref.header_text,\n      errors = _ref.errors,\n      touched = _ref.touched,\n      setFieldTouched = _ref.setFieldTouched,\n      setFieldValue = _ref.setFieldValue,\n      residence_list = _ref.residence_list;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"](\"div\", {\n    className: \"\".concat(class_prefix, \"__residence-selection\")\n  }, !!header_text && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"](_deriv_components__WEBPACK_IMPORTED_MODULE_3__[\"Text\"], {\n    as: \"p\",\n    weight: \"bold\",\n    className: \"\".concat(class_prefix, \"__heading\")\n  }, header_text), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"](\"p\", {\n    className: \"\".concat(class_prefix, \"__\").concat(header_text ? 'text' : 'heading')\n  }, Object(_deriv_translations__WEBPACK_IMPORTED_MODULE_4__[\"localize\"])('Where do you live?')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"](formik__WEBPACK_IMPORTED_MODULE_0__[\"Field\"], {\n    name: \"residence\"\n  }, function (_ref2) {\n    var field = _ref2.field;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"](react__WEBPACK_IMPORTED_MODULE_2__[\"Fragment\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"](_deriv_components__WEBPACK_IMPORTED_MODULE_3__[\"DesktopWrapper\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"](_deriv_components__WEBPACK_IMPORTED_MODULE_3__[\"Autocomplete\"], _extends({}, field, {\n      autoComplete: \"off\",\n      className: \"\".concat(class_prefix, \"__residence-field\"),\n      type: \"text\",\n      label: Object(_deriv_translations__WEBPACK_IMPORTED_MODULE_4__[\"localize\"])('Choose country'),\n      error: touched.residence && errors.residence,\n      required: true,\n      list_items: residence_list,\n      onItemSelection: function onItemSelection(_ref3) {\n        var value = _ref3.value,\n            text = _ref3.text;\n        return setFieldValue('residence', value ? text : '', true);\n      }\n    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"](_deriv_components__WEBPACK_IMPORTED_MODULE_3__[\"MobileWrapper\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"](_deriv_components__WEBPACK_IMPORTED_MODULE_3__[\"SelectNative\"], {\n      placeholder: Object(_deriv_translations__WEBPACK_IMPORTED_MODULE_4__[\"localize\"])('Please select'),\n      label: Object(_deriv_translations__WEBPACK_IMPORTED_MODULE_4__[\"localize\"])('Choose country'),\n      value: field.value,\n      list_items: residence_list,\n      error: touched.residence && errors.residence,\n      required: true,\n      use_text: true,\n      onChange: function onChange(e) {\n        setFieldTouched('residence', true);\n        setFieldValue('residence', e.target.value, true);\n      }\n    })));\n  }), children);\n};\n\nSetResidenceForm.propTypes = {\n  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node,\n  class_prefix: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,\n  header_text: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,\n  residence_list: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object)\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetResidenceForm);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9BcHAvQ29udGFpbmVycy9TZXRSZXNpZGVuY2VNb2RhbC9zZXQtcmVzaWRlbmNlLWZvcm0uanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vQXBwL0NvbnRhaW5lcnMvU2V0UmVzaWRlbmNlTW9kYWwvc2V0LXJlc2lkZW5jZS1mb3JtLmpzeD85NmFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZpZWxkIH0gZnJvbSAnZm9ybWlrJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQXV0b2NvbXBsZXRlLCBEZXNrdG9wV3JhcHBlciwgTW9iaWxlV3JhcHBlciwgU2VsZWN0TmF0aXZlLCBUZXh0IH0gZnJvbSAnQGRlcml2L2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgbG9jYWxpemUgfSBmcm9tICdAZGVyaXYvdHJhbnNsYXRpb25zJztcblxuY29uc3QgU2V0UmVzaWRlbmNlRm9ybSA9ICh7XG4gICAgY2xhc3NfcHJlZml4ID0gJ3NldC1yZXNpZGVuY2UnLFxuICAgIGNoaWxkcmVuLFxuICAgIGhlYWRlcl90ZXh0LFxuICAgIGVycm9ycyxcbiAgICB0b3VjaGVkLFxuICAgIHNldEZpZWxkVG91Y2hlZCxcbiAgICBzZXRGaWVsZFZhbHVlLFxuICAgIHJlc2lkZW5jZV9saXN0LFxufSkgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjbGFzc19wcmVmaXh9X19yZXNpZGVuY2Utc2VsZWN0aW9uYH0+XG4gICAgICAgIHshIWhlYWRlcl90ZXh0ICYmIChcbiAgICAgICAgICAgIDxUZXh0IGFzPSdwJyB3ZWlnaHQ9J2JvbGQnIGNsYXNzTmFtZT17YCR7Y2xhc3NfcHJlZml4fV9faGVhZGluZ2B9PlxuICAgICAgICAgICAgICAgIHtoZWFkZXJfdGV4dH1cbiAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgKX1cbiAgICAgICAgPHAgY2xhc3NOYW1lPXtgJHtjbGFzc19wcmVmaXh9X18ke2hlYWRlcl90ZXh0ID8gJ3RleHQnIDogJ2hlYWRpbmcnfWB9Pntsb2NhbGl6ZSgnV2hlcmUgZG8geW91IGxpdmU/Jyl9PC9wPlxuICAgICAgICA8RmllbGQgbmFtZT0ncmVzaWRlbmNlJz5cbiAgICAgICAgICAgIHsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICAgICAgICA8RGVza3RvcFdyYXBwZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QXV0b2NvbXBsZXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey4uLmZpZWxkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZT0nb2ZmJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7Y2xhc3NfcHJlZml4fV9fcmVzaWRlbmNlLWZpZWxkYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtsb2NhbGl6ZSgnQ2hvb3NlIGNvdW50cnknKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcj17dG91Y2hlZC5yZXNpZGVuY2UgJiYgZXJyb3JzLnJlc2lkZW5jZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RfaXRlbXM9e3Jlc2lkZW5jZV9saXN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uSXRlbVNlbGVjdGlvbj17KHsgdmFsdWUsIHRleHQgfSkgPT4gc2V0RmllbGRWYWx1ZSgncmVzaWRlbmNlJywgdmFsdWUgPyB0ZXh0IDogJycsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9EZXNrdG9wV3JhcHBlcj5cbiAgICAgICAgICAgICAgICAgICAgPE1vYmlsZVdyYXBwZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0TmF0aXZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2xvY2FsaXplKCdQbGVhc2Ugc2VsZWN0Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2xvY2FsaXplKCdDaG9vc2UgY291bnRyeScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmaWVsZC52YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0X2l0ZW1zPXtyZXNpZGVuY2VfbGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcj17dG91Y2hlZC5yZXNpZGVuY2UgJiYgZXJyb3JzLnJlc2lkZW5jZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZV90ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRGaWVsZFRvdWNoZWQoJ3Jlc2lkZW5jZScsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRGaWVsZFZhbHVlKCdyZXNpZGVuY2UnLCBlLnRhcmdldC52YWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvTW9iaWxlV3JhcHBlcj5cbiAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC9GaWVsZD5cbiAgICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2PlxuKTtcblxuU2V0UmVzaWRlbmNlRm9ybS5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAgIGNsYXNzX3ByZWZpeDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBoZWFkZXJfdGV4dDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICByZXNpZGVuY2VfbGlzdDogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCksXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTZXRSZXNpZGVuY2VGb3JtO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVRBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBaEJBO0FBbEJBO0FBQ0E7QUFzREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./App/Containers/SetResidenceModal/set-residence-form.jsx\n");

/***/ }),

/***/ "./sass/app/modules/account-signup.scss":
/*!**********************************************!*\
  !*** ./sass/app/modules/account-signup.scss ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zYXNzL2FwcC9tb2R1bGVzL2FjY291bnQtc2lnbnVwLnNjc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zYXNzL2FwcC9tb2R1bGVzL2FjY291bnQtc2lnbnVwLnNjc3M/MTY4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./sass/app/modules/account-signup.scss\n");

/***/ })

}]);